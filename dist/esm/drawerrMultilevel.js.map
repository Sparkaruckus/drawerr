{"version":3,"sources":["../../src/js/drawerrMultilevel.js"],"names":["multilevelSettings","activeSubmenu","submenus","links","navigationTextClass","hasSubmenuClass","submenuClass","submenuActiveClass","navigationContainerClass","hiddenClass","noHashLinkClass","subMenuLinkClass","multilevelOptions","navigationText","toggleBtnAriaLabel","closeMenuBtnLabel","showOnLoad","DrawerrMultilevel","args","options","drawerr","classList","add","tabHandle","querySelectorAll","insertNavigation","insertCloseMenu","navigation","document","querySelector","navigationIcon","linkActiveClass","addClassToSubmenus","bindLinks","navigationOnClick","bindOnClose","toggleBtn","setAttribute","toggleDrawer","contains","focus","maintain","tabFocus","context","removeActiveClassFromLinks","disengage","navigationContainer","insertAdjacentHTML","closeMenuOnClick","Array","prototype","forEach","call","menu","setTimeout","removeActiveClassFromSubmenus","setNavigationText","hideShowNavigationIcon","addEventListener","reset","bind","e","keyCode","length","link","parent","parentElement","children","item","getAttribute","addSubmenuLink","linkOnClick","submenuLink","createElement","insertAdjacentElement","target","submenu","breadcrumbText","scrollIntoView","previousSibling","textContent","preventDefault","remove","text","action","Drawerr"],"mappings":"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","sourcesContent":["import Drawerr from './drawerr'\nimport { maintain } from 'ally.js'\n\nconst multilevelSettings = {\n  activeSubmenu: false,\n  submenus: false,\n  links: false,\n  navigationTextClass: 'drawerr-navigation',\n  hasSubmenuClass: 'drawerr-item-has-submenu',\n  submenuClass: 'drawerr-submenu',\n  submenuActiveClass: 'drawerr-submenu--active',\n  navigationContainerClass: 'drawerr-navigation-container',\n  hiddenClass: 'hidden',\n  noHashLinkClass: 'drawer-item-hashlink',\n  subMenuLinkClass: 'drawerr-submenu-link'\n}\n\nconst multilevelOptions = {\n  navigationText: 'MENU',\n  toggleBtnAriaLabel: 'navigation',\n  closeMenuBtnLabel: 'Close menu',\n  showOnLoad: false\n}\n\nexport default class DrawerrMultilevel extends Drawerr {\n  constructor (args) {\n    super(args)\n\n    const { navigationText, toggleBtnAriaLabel, closeMenuBtnLabel, showOnLoad } = multilevelOptions\n\n    this.options.navigationText =\n      args.navigationText || navigationText\n    this.options.toggleBtnAriaLabel = args.toggleBtnAriaLabel || toggleBtnAriaLabel\n    this.options.closeMenuBtnLabel = args.closeMenuBtnLabel || closeMenuBtnLabel\n    this.options.showOnLoad = args.showOnLoad || showOnLoad\n\n    this.multilevelSettings = multilevelSettings\n    this.drawerr.classList.add('drawerr-multilevel')\n    this.tabHandle = false\n\n    // All links inside drawerr\n    this.links = this.drawerr.querySelectorAll('a')\n\n    // Setup navigation\n    this.insertNavigation()\n    this.insertCloseMenu()\n    this.navigation = document.querySelector(\n      `.${this.multilevelSettings.navigationTextClass}`\n    )\n\n    this.navigationText = this.navigation.querySelector(\n      `.${this.multilevelSettings.navigationTextClass}__text`\n    )\n    this.navigationIcon = document.querySelector(\n      `.${this.multilevelSettings.navigationTextClass}__icon`\n    )\n\n    // Links\n    this.linkActiveClass = 'drawerr-link--active'\n\n    // Submenu's\n    this.multilevelSettings.submenus = this.drawerr.querySelectorAll(\n      'ul li ul'\n    )\n    this.addClassToSubmenus()\n\n    // Events\n    this.bindLinks()\n    this.navigationOnClick()\n    this.bindOnClose()\n\n    this.toggleBtn.setAttribute('aria-expanded', 'false')\n    this.toggleBtn.setAttribute(\n      'aria-label',\n      this.options.toggleBtnAriaLabel\n    )\n\n    if (this.options.showOnLoad) {\n      this.toggleDrawer()\n    }\n  }\n\n  toggleDrawer () {\n    super.toggleDrawer()\n\n    if (this.toggleBtn.classList.contains('drawerr-btn--active')) {\n      this.toggleBtn.setAttribute('aria-expanded', 'true')\n      this.drawerr.querySelector('ul a').focus()\n\n      if (!this.tabHandle) {\n        this.tabHandle = maintain.tabFocus({\n          context: '.drawerr-container'\n        })\n      }\n    } else {\n      this.removeActiveClassFromLinks()\n      this.toggleBtn.setAttribute('aria-expanded', 'false')\n      this.multilevelSettings.activeSubmenu = false\n      this.toggleBtn.focus()\n      this.tabHandle.disengage()\n      this.tabHandle = false\n    }\n  }\n\n  insertNavigation () {\n    this.navigationContainer = document.querySelector(\n      `.${this.multilevelSettings.navigationContainerClass}`\n    )\n\n    if (this.navigationContainer === null) {\n      this.navigationContainer = this.drawerr.insertAdjacentHTML(\n        'afterbegin',\n        `<div class=\"${\n          this.multilevelSettings.navigationContainerClass\n        }\"></div>`\n      )\n\n      this.navigationContainer = document.querySelector(\n        `.${this.multilevelSettings.navigationContainerClass}`\n      )\n    }\n\n    this.navigationContainer.insertAdjacentHTML(\n      'afterbegin',\n      ` <a tabIndex=\"-1\" class=\"${\n        this.multilevelSettings.navigationTextClass\n      }\" href=\"#\"><span class=\"${\n        this.multilevelSettings.navigationTextClass\n      }__icon ${this.multilevelSettings.hiddenClass}\"></span><span class=\"${\n        this.multilevelSettings.navigationTextClass\n      }__text\">${this.options.navigationText}</span></a>`\n    )\n  }\n\n  insertCloseMenu () {\n    if (this.navigationContainer !== null) {\n      this.navigationContainer.insertAdjacentHTML(\n        'afterbegin',\n        `<button id=\"js-sr-close-menu\" class=\"sr-only sr-only-focusable\">${this.options.closeMenuBtnLabel}</button>`\n      )\n\n      this.closeMenuOnClick()\n    }\n  }\n\n  addClassToSubmenus () {\n    Array.prototype.forEach.call(this.multilevelSettings.submenus, menu => {\n      menu.classList.add(this.multilevelSettings.submenuClass)\n    })\n  }\n\n  reset () {\n    setTimeout(() => {\n      this.removeActiveClassFromSubmenus()\n      this.setNavigationText(this.options.navigationText)\n      this.hideShowNavigationIcon()\n    }, 300)\n  }\n\n  bindOnClose () {\n    document.addEventListener('drawerr-close', this.reset.bind(this))\n    document.addEventListener('keydown', e => {\n      if (e.keyCode === 27) {\n        if (this.drawerr.classList.contains('drawerr--open')) {\n          this.toggleDrawer()\n        }\n      }\n    })\n  }\n\n  bindLinks () {\n    const links = this.drawerr.querySelectorAll('ul a')\n\n    if (links.length) {\n      Array.prototype.forEach.call(links, link => {\n        const parent = link.parentElement\n\n        if (\n          parent.children\n            .item(parent.children.length - 1)\n            .classList.contains(this.multilevelSettings.submenuClass)\n        ) {\n          link.classList.add(this.multilevelSettings.hasSubmenuClass)\n\n          if (link.getAttribute('href') !== '#') {\n            this.addSubmenuLink(link)\n          }\n        }\n\n        link.addEventListener('click', this.linkOnClick.bind(this))\n      })\n    }\n  }\n\n  /**\n   * Add submenu link to existing link so the original and the submenu can be clicked\n   *\n   * @param {*} link\n   */\n  addSubmenuLink (link) {\n    const submenuLink = document.createElement('a')\n    link.parentElement.classList.add(this.multilevelSettings.noHashLinkClass)\n    submenuLink.setAttribute('class', this.multilevelSettings.subMenuLinkClass)\n\n    link.insertAdjacentElement('afterend', submenuLink)\n\n    submenuLink.addEventListener('click', this.linkOnClick.bind(this))\n  }\n\n  /**\n   *\n   * @param {*} e\n   */\n  linkOnClick (e) {\n    const link = e.target\n    const submenu = link.parentElement.querySelector(\n      `.${this.multilevelSettings.submenuClass}`\n    )\n    let submenuLink = false\n    let breadcrumbText = ''\n\n    this.navigationContainer.scrollIntoView()\n\n    link.classList.add(this.linkActiveClass)\n\n    if (link.classList.contains(this.multilevelSettings.subMenuLinkClass)) {\n      // Submenu item has no link but we need to set the breadcrumb text\n      submenuLink = link.previousSibling\n    }\n\n    if (submenu !== null) {\n      if (!submenuLink) {\n        breadcrumbText = link.textContent\n\n        // Go to the clicked link url instead of navigating the menu\n        if (link.getAttribute('href') !== '#') {\n          return false\n        }\n      } else {\n        breadcrumbText = submenuLink.textContent\n      }\n\n      // Make navigation tabable to enable `go back` functionality\n      this.navigation.setAttribute('tabIndex', 0)\n\n      submenu.classList.add(this.multilevelSettings.submenuActiveClass)\n      this.setNavigationText(breadcrumbText)\n      this.multilevelSettings.activeSubmenu = submenu\n\n      setTimeout(() => {\n        this.multilevelSettings.activeSubmenu.querySelector('li a').focus()\n      }, 600)\n\n      this.hideShowNavigationIcon('show')\n    }\n  }\n\n  navigationOnClick () {\n    this.navigation.addEventListener('click', (e) => {\n      e.preventDefault()\n\n      if (!this.multilevelSettings.activeSubmenu) return\n\n      this.removeActiveClassFromLinks()\n\n      this.multilevelSettings.activeSubmenu.classList.remove(\n        this.multilevelSettings.submenuActiveClass\n      )\n      this.multilevelSettings.activeSubmenu = this.multilevelSettings.activeSubmenu.parentElement.parentElement\n\n      // Is submenu active? Otherwise we are at root level\n      if (\n        !this.multilevelSettings.activeSubmenu.classList.contains(\n          'drawerr-submenu--active'\n        )\n      ) {\n        this.hideShowNavigationIcon(this.multilevelSettings.hiddenClass)\n        this.setNavigationText(this.options.navigationText)\n        this.navigation.setAttribute('tabindex', -1)\n      } else {\n        this.setNavigationText(\n          this.multilevelSettings.activeSubmenu.parentElement.querySelector('a')\n            .textContent\n        )\n      }\n    })\n  }\n\n  closeMenuOnClick () {\n    document.querySelector('#js-sr-close-menu').addEventListener('click', () => {\n      this.toggleDrawer()\n    })\n  }\n\n  removeActiveClassFromLinks () {\n    if (this.links.length > 0) {\n      this.links.forEach(link => {\n        link.classList.remove(this.linkActiveClass)\n      })\n    }\n  }\n\n  removeActiveClassFromSubmenus () {\n    if (this.multilevelSettings.submenus.length > 0) {\n      Array.prototype.forEach.call(this.multilevelSettings.submenus, menu => {\n        menu.classList.remove(this.multilevelSettings.submenuActiveClass)\n      })\n    }\n  }\n\n  /**\n   *\n   * @param {*} text\n   */\n  setNavigationText (text) {\n    this.navigationText.textContent = text\n  }\n\n  /**\n   *\n   * @param {*} action\n   */\n  hideShowNavigationIcon (action) {\n    action === 'show'\n      ? this.navigationIcon.classList.remove(\n        this.multilevelSettings.hiddenClass\n      )\n      : this.navigationIcon.classList.add(this.multilevelSettings.hiddenClass)\n  }\n}\n"],"file":"drawerrMultilevel.js"}