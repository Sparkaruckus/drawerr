"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==_typeof(t)&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=0)}([function(t,e,n){n(1),t.exports=n(2)},function(t,e,n){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.r(e);var s={bodyNoScrollClass:"drawerr-no-scroll",drawerOpenClass:"drawerr--open",toggleBtnActiveClass:"drawerr-btn--active",slideFromClass:"drawerr-slide-from-right"},r={btnText:"MENU",drawerr:"#drawerr",navbar:"header",toggleBtn:".toggleDrawerr",slideFrom:"left",preventBodyOnClick:!1},a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.settings=s,this.options=Object.assign(r,e),this.openEvent=new Event("drawerr-open"),this.closeEvent=new Event("drawerr-close"),this.body=document.querySelector("body"),this.drawerr=document.querySelector(this.options.drawerr),this.toggleBtn=document.querySelector(this.options.toggleBtn),this.navbar=document.querySelector(this.options.navbar),this.beforeVisible(),this.drawerr.classList.remove("drawerr--init"),this.drawerr.classList.add("drawerr"),this.toggleBtn.classList.add("drawerr-btn"),this.events()}var e,n;return e=t,(n=[{key:"beforeVisible",value:function(){this.setSlideFromDirection(),this.drawerrOffsetTop(),this.insertHamburgerText()}},{key:"drawerrOffsetTop",value:function(){this.drawerr.style.top=r.navbar.offsetHeight+"px"}},{key:"setSlideFromDirection",value:function(){"right"===r.slideFrom&&this.drawerr.classList.add(this.settings.slideFromClass)}},{key:"events",value:function(){var t=this;this.toggleBtn.addEventListener("click",function(){t.toggleDrawer()}),document.addEventListener("click",function(e){t.bodyClick(e)}),window.onresize=function(e){t.onResize()}}},{key:"toggleDrawer",value:function(){this.addOrRemoveClass(this.body,this.settings.bodyNoScrollClass),this.addOrRemoveClass(this.drawerr,this.settings.drawerOpenClass),this.addOrRemoveClass(this.toggleBtn,this.settings.toggleBtnActiveClass),this.dispatchEvents()}},{key:"onResize",value:function(){this.drawerrOffsetTop()}},{key:"bodyClick",value:function(t){this.toggleBtn.contains(t.target)||this.options.preventBodyOnClick||!this.drawerr.contains(t.target)&&document.querySelector(r.drawerr).classList.contains(this.settings.drawerOpenClass)&&this.toggleDrawer()}},{key:"dispatchEvents",value:function(){this.drawerr.classList.contains(this.settings.drawerOpenClass)?document.dispatchEvent(this.openEvent):document.dispatchEvent(this.closeEvent)}},{key:"addOrRemoveClass",value:function(t,e){if(t.classList.contains(e))return t.classList.remove(e);t.classList.add(e)}},{key:"insertHamburgerText",value:function(){0!==r.btnText.length&&(this.toggleBtn.classList.add("drawerr-btn--has-menu-text"),this.toggleBtn.insertAdjacentHTML("beforeend",'<span class="drawerr-btn__menu-text">'.concat(r.btnText,"</span>")))}}])&&i(e.prototype,n),t}();function o(t){return(o="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return _typeof(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof(t)})(t)}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(i){var s=Object.getOwnPropertyDescriptor(i,e);return s.get?s.get.call(n):s.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v={activeSubmenu:!1,submenus:!1,links:!1,navigationTextClass:"drawerr-navigation",hasSubmenuClass:"drawerr-item-has-submenu",submenuClass:"drawerr-submenu",submenuActiveClass:"drawerr-submenu--active",navigationContainerClass:"drawerr-navigation-container",hiddenClass:"hidden",showOnLoad:!1,noHashLinkClass:"drawer-item-hashlink",subMenuLinkClass:"drawerr-submenu-link",toggleBtnAriaLabel:"navigation"},g={navigationText:"MENU"},f=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,c(e).call(this,t))).options.navigationText=t.navigationText||g.navigationText,n.multilevelSettings=v,n.drawerr.classList.add("drawerr-multilevel"),n.links=n.drawerr.querySelectorAll("a"),n.insertNavigation(),n.navigation=document.querySelector(".".concat(n.multilevelSettings.navigationTextClass)),n.navigationText=n.navigation.querySelector(".".concat(n.multilevelSettings.navigationTextClass,"__text")),n.navigationIcon=document.querySelector(".".concat(n.multilevelSettings.navigationTextClass,"__icon")),n.linkActiveClass="drawerr-link--active",n.multilevelSettings.submenus=n.drawerr.querySelectorAll("ul li ul"),n.addClassToSubmenus(),n.bindLinks(),n.navigationOnClick(),n.bindOnClose(),n.toggleBtn.setAttribute("aria-expanded","false"),n.toggleBtn.setAttribute("aria-label",n.multilevelSettings.toggleBtnAriaLabel),n.options.showOnLoad&&n.toggleDrawer(),n}var n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,a),n=e,(i=[{key:"toggleDrawer",value:function(){u(c(e.prototype),"toggleDrawer",this).call(this),this.toggleBtn.classList.contains("drawerr-btn--active")?(this.toggleBtn.setAttribute("aria-expanded","true"),this.drawerr.querySelector("ul a").focus()):(this.toggleBtn.setAttribute("aria-expanded","false"),this.toggleBtn.focus())}},{key:"insertNavigation",value:function(){this.navigationContainer=document.querySelector(".".concat(this.multilevelSettings.navigationContainerClass)),null===this.navigationContainer&&(this.navigationContainer=this.drawerr.insertAdjacentHTML("afterbegin",'<div class="'.concat(this.multilevelSettings.navigationContainerClass,'"></div>')),this.navigationContainer=document.querySelector(".".concat(this.multilevelSettings.navigationContainerClass))),this.navigationContainer.insertAdjacentHTML("afterbegin",' <a aria-hidden="true" class="'.concat(this.multilevelSettings.navigationTextClass,'" href="#"><span class="').concat(this.multilevelSettings.navigationTextClass,"__icon ").concat(this.multilevelSettings.hiddenClass,'"></span><span class="').concat(this.multilevelSettings.navigationTextClass,'__text">').concat(this.options.navigationText,"</span></a>"))}},{key:"addClassToSubmenus",value:function(){var t=this;Array.prototype.forEach.call(this.multilevelSettings.submenus,function(e){e.classList.add(t.multilevelSettings.submenuClass)})}},{key:"reset",value:function(){var t=this;setTimeout(function(){Array.prototype.forEach.call(t.multilevelSettings.submenus,function(e){e.classList.remove(t.multilevelSettings.submenuActiveClass)}),t.setNavigationText(t.options.navigationText),t.hideShowNavigationIcon()},300)}},{key:"bindOnClose",value:function(){var t=this;document.addEventListener("drawerr-close",this.reset.bind(this)),document.addEventListener("keydown",function(e){27===e.keyCode&&t.drawerr.classList.contains("drawerr--open")&&t.toggleDrawer()})}},{key:"bindLinks",value:function(){var t=this,e=this.drawerr.querySelectorAll("ul a");e.length&&Array.prototype.forEach.call(e,function(e){var n=e.parentElement;n.children.item(n.children.length-1).classList.contains(t.multilevelSettings.submenuClass)&&(e.classList.add(t.multilevelSettings.hasSubmenuClass),"#"!==e.getAttribute("href")&&t.addSubmenuLink(e)),e.addEventListener("click",t.linkOnClick.bind(t))})}},{key:"addSubmenuLink",value:function(t){var e=document.createElement("a");t.parentElement.classList.add(this.multilevelSettings.noHashLinkClass),e.setAttribute("class",this.multilevelSettings.subMenuLinkClass),t.insertAdjacentElement("afterend",e),e.addEventListener("click",this.linkOnClick.bind(this))}},{key:"linkOnClick",value:function(t){var e=t.target,n=e.parentElement.querySelector(".".concat(this.multilevelSettings.submenuClass)),i=!1,s="";if(this.navigationContainer.scrollIntoView(),e.classList.add(this.linkActiveClass),e.classList.contains(this.multilevelSettings.subMenuLinkClass)&&(i=e.previousSibling),null!==n){if(i)s=i.textContent;else if(s=e.textContent,"#"!==e.getAttribute("href"))return!1;n.classList.add(this.multilevelSettings.submenuActiveClass),this.setNavigationText(s),this.multilevelSettings.activeSubmenu=n,this.hideShowNavigationIcon("show")}}},{key:"navigationOnClick",value:function(){var t=this;this.navigation.addEventListener("click",function(e){e.preventDefault(),t.multilevelSettings.activeSubmenu&&(t.links.length>0&&t.links.forEach(function(e){e.classList.remove(t.linkActiveClass)}),t.multilevelSettings.activeSubmenu.classList.remove(t.multilevelSettings.submenuActiveClass),t.multilevelSettings.activeSubmenu=t.multilevelSettings.activeSubmenu.parentElement.parentElement,t.multilevelSettings.activeSubmenu.classList.contains("drawerr-submenu--active")?t.setNavigationText(t.multilevelSettings.activeSubmenu.parentElement.querySelector("a").textContent):(t.hideShowNavigationIcon(t.multilevelSettings.hiddenClass),t.setNavigationText(t.options.navigationText)))})}},{key:"setNavigationText",value:function(t){this.navigationText.textContent=t}},{key:"hideShowNavigationIcon",value:function(t){"show"===t?this.navigationIcon.classList.remove(this.multilevelSettings.hiddenClass):this.navigationIcon.classList.add(this.multilevelSettings.hiddenClass)}}])&&l(n.prototype,i),e}();e.default={Drawerr:a,DrawerrMultilevel:f},window.drawerr=a,window.drawerrMultilevel=f},function(t,e){}]);
